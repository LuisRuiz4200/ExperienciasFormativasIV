@model Dominio.Entidad.SolicitudRepuestoModel

@{
    ViewBag.Title = "registrarSolicitudRepuesto";
}

<h2>REGISTRAR SOLICITUD DE REPUESTO</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal row g-2 ">
        <h4>Solicitud de repuestos</h4>
        <hr />

        @Html.ValidationSummary(true, (String)@ViewBag.MENSAJE, new { @class = "text-danger" })
        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.id_solRep, "ID SOLICITUD", htmlAttributes: new { @class = "control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.id_solRep, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.id_solRep, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.cod_patrimonial, "COD. PATRIMONIAL", htmlAttributes: new { @class = "control-label" })
            <div class="col-md-10">
                @Html.DropDownList("cod_patrimonial", (SelectList)ViewBag.LISTAR_DET_EQUIPO, "SELECCION EQUIPO", new { @class = "form-control bg-secondary bg-opacity-25" })
                @Html.ValidationMessageFor(model => model.cod_patrimonial, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.motivo_solRep, "MOTIVO DE LOS REPUESTOS", htmlAttributes: new { @class = "control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.motivo_solRep, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.motivo_solRep, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.fecha_solRep, "FECHA DE SOLICITUD", htmlAttributes: new { @class = "control-label " })
            <div class="col-md-10">
                @Html.EditorFor(model => model.fecha_solRep, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.fecha_solRep, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.estado_solRep, "ESTADO", htmlAttributes: new { @class = "control-label" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.estado_solRep, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.estado_solRep, "", new { @class = "text-danger" })
            </div>
        </div>



        <div class="form-group d-flex gap-2 align-items-center my-4">
            <div class="col-md-offset-2 ">
                <input type="submit" value="REGISTRAR SOLICITUD" class="btn btn-success" />
            </div>
            |
            <div class=" ">
                @Html.ActionLink("IR A LA LISTA", "listarSolicitudRepuesto", null, new { @class = "btn btn-warning" })
            </div>
        </div>
    </div>
}

<!--ARTICULOS-->
@{ 
    List<Estructura.SQL.DetSolicitudRepuestoDAO> listaDetalle = new List<Estructura.SQL.DetSolicitudRepuestoDAO>();


}
<form action="ingresarArticulo" method="post">

    <div class="row g-2">

        <h4>ARTICULOS</h4>

        <hr />


        <div class="col-md-2">
            <label>ID ITEM</label>
            <input class="form-control" name="item_det_solRep" />
        </div>

        <div class="col-md-6">
            <label>ARTICULO</label>
            <input class="form-control " name="artefacto_det_solRep"/>
        </div>

        <div class="col-md-2">
            <label>CANTIDAD</label>
            <input class="form-control" name="cant_det_solRep" />
        </div>

        <div class="col-md-1">
            <label>UM</label>
            <input class="form-control" name="cod_uniMed"/>
        </div>

        <div>
            <button type="submit" class="btn btn-primary" >AGREGAR ARTICULO</button>
        </div>

        <hr />
        <!--TABLA DE ARTICULOS-->
        @{}

        <div>
            <table class="table table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>ID ITEM</th>
                        <th>ARTICULO</th>
                        <th>CANTIDAD</th>
                        <th>UM</th>
                    </tr>
                </thead>
                @{if (ViewBag.LISTA_ARTICULO == null)
                    {
                        <tbody>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    }
                    else
                    {

                        foreach (var obj in ViewBag.LISTA_ARTICULO)
                        {
                            <tbody >
                                <tr>
                                    <td> @obj.item_det_solRep </td>
                                    <td> @obj.artefacto_det_solRep </td>
                                    <td> @obj.cant_det_solRep </td>
                                    <td> @obj.cod_uniMed </td>
                                </tr>
                            </tbody >
                        }
                    }

                }
            </table>
        </div>
    </div>
</form>



<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
